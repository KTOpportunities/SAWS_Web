{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Lucia/Documents/GitHub/SAWS_Web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"src/app/services/auth.service\";\nimport * as i4 from \"@angular/common\";\nfunction loginComponent_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"div\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.message);\n  }\n}\nclass loginComponent {\n  constructor(router, formBuilder, authApi) {\n    this.router = router;\n    this.formBuilder = formBuilder;\n    this.authApi = authApi;\n    this.message = \"\";\n    this.loginform = this.formBuilder.group({\n      Username: [null, Validators.required, this.emailValidator],\n      Password: [null, [Validators.required]]\n    });\n  }\n  ngOnInit() {\n    debugger;\n  }\n  emailValidator(control) {\n    return _asyncToGenerator(function* () {\n      if (control.value) {\n        const matches = control.value.match(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/);\n        return matches ? null : {\n          invalidEmail: true\n        };\n      } else {\n        return null;\n      }\n    })();\n  }\n  login() {\n    debugger;\n    if (this.loginform.status == \"VALID\") {\n      this.authApi.login(this.loginform.value).subscribe(data => {\n        debugger;\n        if (data.Status == \"200\" && data.Message == \"Successfully Signed In\") {\n          this.router.navigate([\"admin\"]);\n          this.message = data.Message;\n        } else {\n          debugger;\n          if (data.Message == \"Bad request was made\") {\n            this.message = \"User does not exist\";\n          } else {\n            this.message = data.Message;\n          }\n        }\n      }, err => {\n        console.log(err);\n        debugger;\n      });\n    }\n  }\n  forgotPassword() {\n    this.router.navigate([\"forgot-password\"]);\n  }\n  static #_ = this.ɵfac = function loginComponent_Factory(t) {\n    return new (t || loginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.AuthService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: loginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 34,\n    vars: 2,\n    consts: [[1, \"section-2\"], [1, \"container-main-login\"], [1, \"right\"], [\"src\", \"./../../../assets/img//Group-4465.svg\", \"loading\", \"lazy\", \"width\", \"181\", \"alt\", \"\"], [1, \"left-login\"], [1, \"left-wrap\"], [1, \"div-block-2\"], [\"src\", \"./../../../assets/img/Mask-Group-12.svg\", \"loading\", \"lazy\", \"width\", \"181\", \"alt\", \"\", 1, \"login_logo\"], [1, \"form-block\", \"w-form\"], [\"id\", \"email-form\", \"name\", \"email-form\", \"data-name\", \"Email Form\", \"method\", \"get\", \"data-ms-form\", \"login\", \"data-wf-page-id\", \"658d2cbe61f9907c2d7e8dc2\", \"data-wf-element-id\", \"305a7b9e-0059-be08-ca9f-cceb7ed71472\", 1, \"form\", 3, \"formGroup\"], [1, \"heading\"], [1, \"paragraph-2\"], [1, \"field-wrapper\", \"top\"], [\"for\", \"Email\", 1, \"label_f_username\"], [\"type\", \"email\", \"maxlength\", \"256\", \"name\", \"Email\", \"data-name\", \"Email\", \"placeholder\", \"\", \"id\", \"Email\", \"data-ms-member\", \"email\", \"formControlName\", \"Username\", \"required\", \"\", 1, \"user_input\", \"w-input\"], [1, \"field-wrapper\"], [\"for\", \"Password\", 1, \"label_f_password\"], [\"type\", \"password\", \"maxlength\", \"256\", \"name\", \"Password\", \"data-name\", \"Password\", \"placeholder\", \"\", \"id\", \"Password\", \"formControlName\", \"Password\", \"data-ms-member\", \"password\", \"required\", \"\", 1, \"password_field\", \"w-input\"], [1, \"form-flex\"], [1, \"w-checkbox\", \"checkbox-wrap\"], [1, \"w-checkbox-input\", \"w-checkbox-input--inputType-custom\", \"remember\"], [\"type\", \"checkbox\", \"id\", \"checkbox\", \"name\", \"checkbox\", \"data-name\", \"Checkbox\", 2, \"opacity\", \"0\", \"position\", \"absolute\", \"z-index\", \"-1\"], [\"for\", \"checkbox\", 1, \"remember_me\", \"w-form-label\"], [1, \"forgot-password\", 3, \"click\"], [1, \"loginbutton\", \"w-button\", 3, \"click\"], [\"class\", \"w-form-done\", 4, \"ngIf\"], [1, \"w-form-done\"]],\n    template: function loginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\");\n        i0.ɵɵelement(4, \"img\", 3);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"div\", 4)(6, \"div\", 5)(7, \"div\", 6);\n        i0.ɵɵelement(8, \"img\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 8)(10, \"form\", 9)(11, \"h1\", 10);\n        i0.ɵɵtext(12, \"Login\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"p\", 11);\n        i0.ɵɵtext(14, \"Login by entering the information's below\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\", 12)(16, \"label\", 13);\n        i0.ɵɵtext(17, \"User Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(18, \"input\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 15)(20, \"label\", 16);\n        i0.ɵɵtext(21, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(22, \"input\", 17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\", 18)(24, \"label\", 19);\n        i0.ɵɵelement(25, \"div\", 20)(26, \"input\", 21);\n        i0.ɵɵelementStart(27, \"span\", 22);\n        i0.ɵɵtext(28, \"Remember Me\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(29, \"a\", 23);\n        i0.ɵɵlistener(\"click\", function loginComponent_Template_a_click_29_listener() {\n          return ctx.forgotPassword();\n        });\n        i0.ɵɵtext(30, \"Forgot password\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(31, \"a\", 24);\n        i0.ɵɵlistener(\"click\", function loginComponent_Template_a_click_31_listener() {\n          return ctx.login();\n        });\n        i0.ɵɵtext(32, \"Login\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(33, loginComponent_div_33_Template, 3, 1, \"div\", 25);\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"formGroup\", ctx.loginform);\n        i0.ɵɵadvance(23);\n        i0.ɵɵproperty(\"ngIf\", ctx.message);\n      }\n    },\n    dependencies: [i4.NgIf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.RequiredValidator, i2.MaxLengthValidator, i2.FormGroupDirective, i2.FormControlName],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}\nexport { loginComponent };","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","message","loginComponent","constructor","router","formBuilder","authApi","loginform","group","Username","required","emailValidator","Password","ngOnInit","control","_asyncToGenerator","value","matches","match","invalidEmail","login","status","subscribe","data","Status","Message","navigate","err","console","log","forgotPassword","_","ɵɵdirectiveInject","i1","Router","i2","FormBuilder","i3","AuthService","_2","selectors","decls","vars","consts","template","loginComponent_Template","rf","ctx","ɵɵelement","ɵɵlistener","loginComponent_Template_a_click_29_listener","loginComponent_Template_a_click_31_listener","ɵɵtemplate","loginComponent_div_33_Template","ɵɵproperty"],"sources":["C:\\Users\\Lucia\\Documents\\GitHub\\SAWS_Web\\src\\app\\auth\\login\\login.component.ts","C:\\Users\\Lucia\\Documents\\GitHub\\SAWS_Web\\src\\app\\auth\\login\\login.component.html"],"sourcesContent":["import { Component, OnInit } from \"@angular/core\";\r\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\nimport { Router } from \"@angular/router\";\r\nimport { AuthService } from \"src/app/services/auth.service\";\r\n\r\n@Component({\r\n  selector: \"app-login\",\r\n  templateUrl: \"./login.component.html\",\r\n  styleUrls: [\"./login.component.css\"],\r\n})\r\nexport class loginComponent implements OnInit {\r\n  loginform: FormGroup;\r\n  message: string = \"\";\r\n  constructor(\r\n    private router: Router,\r\n    private formBuilder: FormBuilder,\r\n    private authApi: AuthService\r\n  ) {\r\n    this.loginform = this.formBuilder.group({\r\n      Username: [null, Validators.required, this.emailValidator],\r\n      Password: [null, [Validators.required]],\r\n    });\r\n  }\r\n  ngOnInit(): void {\r\n    debugger;\r\n  }\r\n  async emailValidator(control: any) {\r\n    if (control.value) {\r\n      const matches = control.value.match(\r\n        /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/\r\n      );\r\n      return matches ? null : { invalidEmail: true };\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n  login() {\r\n    debugger;\r\n\r\n    if (this.loginform.status == \"VALID\") {\r\n      this.authApi.login(this.loginform.value).subscribe(\r\n        (data:any) => {\r\n          debugger;\r\n          if (\r\n            data.Status == \"200\" &&\r\n            data.Message == \"Successfully Signed In\"\r\n          ) {\r\n            this.router.navigate([\"admin\"]);\r\n            this.message = data.Message;\r\n          } else {\r\n            debugger;\r\n            if (data.Message == \"Bad request was made\") {\r\n              this.message = \"User does not exist\";\r\n            } else {\r\n              this.message = data.Message;\r\n            }\r\n          }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        debugger\r\n      });\r\n    }\r\n  }\r\n\r\n  forgotPassword() {\r\n    this.router.navigate([\"forgot-password\"]);\r\n  }\r\n}\r\n","<section class=\"section-2\">\r\n    <div class=\"container-main-login\">\r\n        <div class=\"right\">\r\n            <div><img src=\"./../../../assets/img//Group-4465.svg\" loading=\"lazy\"\r\n                    width=\"181\" alt></div>\r\n        </div>\r\n        <div class=\"left-login\">\r\n            <div class=\"left-wrap\">\r\n                <div class=\"div-block-2\"><img\r\n                        src=\"./../../../assets/img/Mask-Group-12.svg\"\r\n                        loading=\"lazy\" width=\"181\" alt class=\"login_logo\"></div>\r\n                <div class=\"form-block w-form\">\r\n                    <form id=\"email-form\" name=\"email-form\"\r\n                        data-name=\"Email Form\" method=\"get\" data-ms-form=\"login\"\r\n                        class=\"form\" data-wf-page-id=\"658d2cbe61f9907c2d7e8dc2\"\r\n                        data-wf-element-id=\"305a7b9e-0059-be08-ca9f-cceb7ed71472\" [formGroup]=\"loginform\">\r\n                        <h1 class=\"heading\">Login</h1>\r\n                        <p class=\"paragraph-2\">Login by entering the\r\n                            information&#x27;s below</p>\r\n                        <div class=\"field-wrapper top\"><label for=\"Email\"\r\n                                class=\"label_f_username\">User Name</label><input\r\n                                type=\"email\" class=\"user_input w-input\"\r\n                                maxlength=\"256\" name=\"Email\" data-name=\"Email\"\r\n                                placeholder id=\"Email\" data-ms-member=\"email\" formControlName=\"Username\"\r\n                                required></div>\r\n                        <div class=\"field-wrapper\"><label for=\"Password\"\r\n                                class=\"label_f_password\">Password</label><input\r\n                                type=\"password\" class=\"password_field w-input\"\r\n                                maxlength=\"256\" name=\"Password\"\r\n                                data-name=\"Password\" placeholder id=\"Password\" formControlName=\"Password\"\r\n                                data-ms-member=\"password\" required></div>\r\n                        <div class=\"form-flex\"><label\r\n                                class=\"w-checkbox checkbox-wrap\">\r\n                                <div\r\n                                    class=\"w-checkbox-input w-checkbox-input--inputType-custom remember\"></div><input\r\n                                    type=\"checkbox\" id=\"checkbox\"\r\n                                    name=\"checkbox\" data-name=\"Checkbox\"\r\n                                    style=\"opacity:0;position:absolute;z-index:-1\"><span\r\n                                    class=\"remember_me w-form-label\"\r\n                                    for=\"checkbox\">Remember Me</span>\r\n                            </label>\r\n                            <a (click)=\"forgotPassword()\"\r\n                                class=\"forgot-password\">Forgot password</a>\r\n                        </div>\r\n                        <a (click)=\"login()\" class=\"loginbutton w-button\">Login</a>\r\n                        <!-- <h5 class=\"heading-2\">Need an account? Create account</h5> -->\r\n                    </form>\r\n                    <div class=\"w-form-done\" *ngIf=\"this.message\">\r\n                        <div>{{this.message}}</div>\r\n                    </div>\r\n                    <!-- <div class=\"w-form-fail\">\r\n                        <div>Oops! Something went wrong while submitting the\r\n                            form.</div>\r\n                    </div> -->\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</section>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}